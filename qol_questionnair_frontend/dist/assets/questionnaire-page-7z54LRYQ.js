import{j as e,u as x,a as h,g as m,s as g,b as j,r as p}from"./index-Du_WHX58.js";const c={title:"Are you okay?",intro:"Answer 10 questions honestly.",questions:[{id:"Q1",parameter:"overall_life_satisfaction",text:"Reflecting on your achievements and path, how do you feel about where you are in life right now?",options_ref:"qol_options"},{id:"Q2",parameter:"positive_emotions",text:"How often do you experience joy, peace, or moments of true happiness in your day-to-day life?",options_ref:"qol_options"},{id:"Q3",parameter:"social_connections",text:"How connected and supported do you feel by people in your life (friends, family, partner, colleagues)?",options_ref:"qol_options"},{id:"Q4",parameter:"gratitude",text:"When good things happen, how often do you notice and feel grateful?",options_ref:"qol_options"},{id:"Q5",parameter:"purpose_meaning",text:"Do your daily activities and overall life feel purposeful?",options_ref:"qol_options"},{id:"Q6",parameter:"autonomy_freedom",text:"How much freedom and control do you feel you have in choosing your own path?",options_ref:"qol_options"},{id:"Q7",parameter:"resilience",text:"When life throws challenges your way, how do you handle them?",options_ref:"qol_options"},{id:"Q8",parameter:"self_compassion",text:"After a personal setback (mistake, failure, disappointment), how do you treat yourself?",options_ref:"qol_options"},{id:"Q9",parameter:"balance_engagement",text:"How balanced and engaging does your daily routine feel?",options_ref:"qol_options"},{id:"Q10",parameter:"physical_wellbeing",text:"How does your physical health affect your mood, energy, and happiness?",options_ref:"qol_options"}]},w=({question:o,onInputChange:n,selectedAnswer:t,onEnterPress:a})=>{const i=r=>{r.key==="Enter"&&t&&t.trim()!==""&&a()};return e.jsxs("div",{className:"question-container",children:[e.jsx("h3",{children:o.text}),e.jsx("div",{className:"input-container",children:e.jsx("input",{type:"text",value:t||"",onChange:r=>n(o.id,r.target.value),onKeyPress:i,placeholder:"Type your answer here...",className:"text-input"})})]})},_=()=>{const o=x(),{currentQuestionIndex:n,answers:t}=h(l=>l.questionnaire),a=(l,u)=>{o(g({questionId:l,value:u}))},i=()=>{o(m(c.questions.length))},r=()=>{o(j())},s=c.questions[n];return e.jsxs("div",{className:"questionnaire-container",children:[e.jsx("h1",{children:c.title}),e.jsx("p",{children:c.intro}),e.jsx(w,{question:s,onInputChange:a,selectedAnswer:t[s.id],onEnterPress:i}),e.jsxs("div",{className:"navigation-buttons",children:[e.jsx("button",{onClick:r,disabled:n===0,children:"Previous"}),e.jsx("button",{onClick:i,disabled:!t[s.id]||t[s.id].trim()==="",children:n===c.questions.length-1?"Submit":"Next"})]})]})},q=({gptAnalysis:o})=>o?e.jsxs("div",{className:"result-container",children:[e.jsx("h2",{children:"Your Analysis"}),e.jsxs("div",{className:"gpt-analysis",children:[e.jsx("h3",{children:"Key Insights:"}),e.jsx("p",{children:o.keyInsights}),e.jsx("h3",{children:"Your Strengths:"}),e.jsx("p",{children:o.yourStrengths}),e.jsx("h3",{children:"Opportunities for Reflection/Growth:"}),e.jsx("ul",{children:o.opportunitiesForReflection&&o.opportunitiesForReflection.map((n,t)=>e.jsx("li",{children:n},t))}),e.jsx("h3",{children:"Personalized Guidance:"}),e.jsx("p",{children:o.personalizedGuidance})]})]}):null,Q=()=>{const{answers:o,showResults:n}=h(u=>u.questionnaire),[t,a]=p.useState(""),[i,r]=p.useState(!1),[s,l]=p.useState(null);return p.useEffect(()=>{n&&!i&&!s&&t===""&&(async()=>{r(!0),l(null),a("");try{const d=await fetch("http://localhost:8080/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({answers:o})});if(!d.ok){const y=await d.text();throw new Error(y||"Failed to get analysis")}const f=await d.json();a(f)}catch(d){console.error("Error sending answers to backend:",d),l(d.message)}finally{r(!1)}})()},[n,i,s,o,t]),n?i?e.jsx("div",{className:"loading-message",children:"Getting your personalized feedback..."}):s?e.jsxs("div",{className:"error-message",children:["Error: ",s]}):e.jsx(q,{gptAnalysis:t}):e.jsx(_,{})};export{Q as default};
